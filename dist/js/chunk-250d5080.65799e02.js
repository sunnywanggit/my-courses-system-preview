(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-250d5080"],{"0db2":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"account-data"},[a("div",{staticClass:"add-box"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addAccount}},[e._v("新增账户")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{label:"角色",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?a("el-select",{on:{change:function(a){return e.selectChange(t.row)}},model:{value:t.row.role,callback:function(a){e.$set(t.row,"role",a)},expression:"scope.row.role"}},e._l(e.options,(function(e){return a("el-option",{key:e.key,attrs:{label:e.role,value:e.role}})})),1):a("span",[e._v(e._s(t.row.role))])]}}])}),a("el-table-column",{attrs:{label:"账号",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.edit?a("el-input",{model:{value:t.row.username,callback:function(a){e.$set(t.row,"username",a)},expression:"scope.row.username"}}):a("span",[e._v(e._s(t.row.username))])]}}])}),a("el-table-column",{attrs:{prop:"des",label:"描述"}}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return"admin"!=t.row.username?[t.row.edit?a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(a){return e.handleSave(t.$index,t.row)}}},[e._v("完成")]):a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]:void 0}}],null,!0)})],1),a("AddAccount",{attrs:{dialogVisible:e.dialogVisible,options:e.options},on:{update:e.getData,closeDialog:e.closeDialog}})],1)},n=[],i=(a("6b54"),a("2397"),a("ac6a"),a("d225")),r=a("b0b4"),s=a("4e2b"),c=a("308d"),l=a("6bb5"),u=a("9ab4"),d=a("60a3"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"新增账户",visible:e.dialogVisible,"close-on-click-modal":!1,"show-close":!1,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"ruleForm",staticClass:"form-box",attrs:{rules:e.rules,model:e.account,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"请选择角色",prop:"role"}},[a("el-select",{attrs:{placeholder:"请选择角色"},on:{change:e.selectChange},model:{value:e.account.role,callback:function(t){e.$set(e.account,"role",t)},expression:"account.role"}},e._l(e.options,(function(e){return a("el-option",{key:e.key,attrs:{label:e.role,value:e.role}})})),1)],1),a("el-form-item",{attrs:{label:"请输入账号",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.account.username,callback:function(t){e.$set(e.account,"username",t)},expression:"account.username"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.$emit("closeDialog")}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("确定")])],1)],1)},p=[];function b(e){return function(){var t,a=Object(l["a"])(e);if(h()){var o=Object(l["a"])(this).constructor;t=Reflect.construct(a,arguments,o)}else t=a.apply(this,arguments);return Object(c["a"])(this,t)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var m=function(e){Object(s["a"])(a,e);var t=b(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.account={key:"",role:"",username:"",des:""},e.rules={username:[{required:!0,message:"请输入账号",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"change"}]},e}return Object(r["a"])(a,[{key:"selectChange",value:function(e){var t=this;this.options.map((function(a){a.role==e&&(t.account.key=a.key,t.account.des=a.des)}))}},{key:"handleAdd",value:function(){var e=this;this.$refs["ruleForm"].validate((function(t){t&&e.$axios.post("/api/users/addUser",e.account).then((function(t){e.$emit("update"),e.$message({message:t.data.msg,type:"success"})}))}))}}]),a}(d["e"]);Object(u["a"])([Object(d["c"])(Boolean)],m.prototype,"dialogVisible",void 0),Object(u["a"])([Object(d["c"])(Array)],m.prototype,"options",void 0),Object(u["a"])([Object(d["d"])()],m.prototype,"account",void 0),Object(u["a"])([Object(d["d"])()],m.prototype,"rules",void 0),Object(u["a"])([Object(d["b"])("closeDialog")],m.prototype,"handleAdd",null),m=Object(u["a"])([Object(d["a"])({components:{}})],m);var v=m,y=v,g=(a("9fe3"),a("2877")),k=Object(g["a"])(y,f,p,!1,null,"e135b106",null),O=k.exports;function j(e){return function(){var t,a=Object(l["a"])(e);if(w()){var o=Object(l["a"])(this).constructor;t=Reflect.construct(a,arguments,o)}else t=a.apply(this,arguments);return Object(c["a"])(this,t)}}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var S=function(e){Object(s["a"])(a,e);var t=j(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.tableData=[],e.dialogVisible=!1,e.options=[{key:"admin",role:"管理员",des:"Super Administrator. Have access to view all pages."},{key:"editor",role:"客服",des:"Normal Editor. Can see all pages except permission page"},{key:"visitor",role:"游客",des:"Just a visitor. Can only see the home page and the document page"}],e}return Object(r["a"])(a,[{key:"addAccount",value:function(){this.dialogVisible=!0}},{key:"closeDialog",value:function(){this.dialogVisible=!1}},{key:"created",value:function(){this.getData()}},{key:"handleEdit",value:function(e,t){t.edit=!0}},{key:"handleDelete",value:function(e,t){var a=this;this.$axios.delete("/api/users/deleteUser/".concat(t._id)).then((function(t){a.$message({message:t.data.msg,type:"success"}),a.tableData.splice(e,1)}))}},{key:"handleSave",value:function(e,t){var a=this;t.edit=!1,this.$axios.post("/api/users/editUser/".concat(t._id),t).then((function(e){a.$message({message:e.data.msg,type:"success"})}))}},{key:"selectChange",value:function(e){this.options.map((function(t){t.role==e.role&&(e.key=t.key,e.des=t.des)}))}},{key:"getData",value:function(){var e=this;this.$axios("/api/users/allUsers").then((function(t){t.data.datas.forEach((function(e){e.edit=!1})),e.tableData=t.data.datas}))}}]),a}(d["e"]);Object(u["a"])([Object(d["d"])()],S.prototype,"tableData",void 0),Object(u["a"])([Object(d["d"])()],S.prototype,"dialogVisible",void 0),Object(u["a"])([Object(d["d"])()],S.prototype,"options",void 0),S=Object(u["a"])([Object(d["a"])({components:{AddAccount:O}})],S);var L=S,D=L,x=(a("3708"),Object(g["a"])(D,o,n,!1,null,"0468b580",null));t["default"]=x.exports},3708:function(e,t,a){"use strict";var o=a("b39f"),n=a.n(o);n.a},"63dd":function(e,t,a){},"9fe3":function(e,t,a){"use strict";var o=a("63dd"),n=a.n(o);n.a},ac6a:function(e,t,a){for(var o=a("cadf"),n=a("0d58"),i=a("2aba"),r=a("7726"),s=a("32e9"),c=a("84f2"),l=a("2b4c"),u=l("iterator"),d=l("toStringTag"),f=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},b=n(p),h=0;h<b.length;h++){var m,v=b[h],y=p[v],g=r[v],k=g&&g.prototype;if(k&&(k[u]||s(k,u,f),k[d]||s(k,d,v),c[v]=f,y))for(m in o)k[m]||i(k,m,o[m],!0)}},b39f:function(e,t,a){}}]);
//# sourceMappingURL=chunk-250d5080.65799e02.js.map